<div class="container mt-5">
  <div class="card mb-4 shadow-sm">
    <div class="card-header bg-primary text-white">Ajouter une catégorie</div>
    <div class="card-body d-flex gap-2">
      <input type="text" class="form-control" [(ngModel)]="newCategorie.nom" placeholder="Nom de la catégorie" />
      <input type="text" class="form-control" [(ngModel)]="newCategorie.description" placeholder="Description" />
      <button class="btn btn-success" (click)="addCategorie()">Ajouter</button>
    </div>
  </div>

  <div class="card shadow-sm">
    <div class="card-header bg-info text-white">Catégories</div>
    <div class="card-body">
      <table class="table table-striped">
        <thead class="table-dark">
          <tr>
            <th>Nom</th>
            <th>Description</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let cat of categories">
            <td>
              <span *ngIf="editCategorieId !== cat.id">{{ cat.nom }}</span>
              <input *ngIf="editCategorieId === cat.id" [(ngModel)]="editCategorieName" class="form-control" />
            </td>
            <td>
              <span *ngIf="editCategorieId !== cat.id">{{ cat.description }}</span>
              <input *ngIf="editCategorieId === cat.id" [(ngModel)]="editCategorieDescription" class="form-control" />
            </td>
            <td>
              <button *ngIf="editCategorieId !== cat.id" class="btn btn-warning btn-sm" (click)="startEdit(cat)">Modifier</button>
              <button *ngIf="editCategorieId === cat.id" class="btn btn-primary btn-sm" (click)="updateCategorie()">Enregistrer</button>
              <button class="btn btn-danger btn-sm" (click)="deleteCategorie(cat.id!)">Supprimer</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
